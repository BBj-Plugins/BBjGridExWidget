"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9790],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),l=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},d=function(e){var t=l(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,d=a(e,["components","mdxType","originalType","parentName"]),p=l(n),m=o,g=p["".concat(s,".").concat(m)]||p[m]||u[m]||i;return n?r.createElement(g,c(c({ref:t},d),{},{components:n})):r.createElement(g,c({ref:t},d))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,c=new Array(i);c[0]=p;var a={};for(var s in t)hasOwnProperty.call(t,s)&&(a[s]=t[s]);a.originalType=e,a.mdxType="string"==typeof e?e:o,c[1]=a;for(var l=2;l<i;l++)c[l]=n[l];return r.createElement.apply(null,c)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},9042:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var r=n(7462),o=(n(7294),n(3905));const i={sidebar_position:3,title:"Client Context"},c=void 0,a={unversionedId:"data/client-context",id:"data/client-context",title:"Client Context",description:"This sections covers how shared contextual information can be passed around the grid.",source:"@site/docs/data/client-context.md",sourceDirName:"data",slug:"/data/client-context",permalink:"/BBjGridExWidget/docs/data/client-context",draft:!1,editUrl:"https://github.com/BBj-Plugins/BBjGridExWidget/tree/dev/website/docs/data/client-context.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Client Context"},sidebar:"tutorialSidebar",previous:{title:"Managing Data",permalink:"/BBjGridExWidget/docs/data/managing-data"},next:{title:"Selection",permalink:"/BBjGridExWidget/docs/category/selection"}},s={},l=[{value:"Overview",id:"overview",level:2},{value:"Context Object Example",id:"context-object-example",level:2}],d={toc:l};function u(e){let{components:t,...i}=e;return(0,o.kt)("wrapper",(0,r.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This sections covers how shared contextual information can be passed around the grid."),(0,o.kt)("h2",{id:"overview"},"Overview"),(0,o.kt)("p",null,"The client context object is a ",(0,o.kt)("a",{parentName:"p",href:"https://www.javadoc.io/doc/com.google.code.gson/gson/2.8.5/com/google/gson/JsonObject.html"},(0,o.kt)("inlineCode",{parentName:"a"},"com.google.gson.JsonObject"))," passed to most of the components used in the grid. The purpose of the context object is to allow the client grid to pass details to the components such as the Cell Renderers and Cell Editors."),(0,o.kt)("h2",{id:"context-object-example"},"Context Object Example"),(0,o.kt)("p",null,"The example below demonstrates how the context object can be used. Note the following:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Selecting the reporting currency from the drop down places it in the context object."),(0,o.kt)("li",{parentName:"ul"},"When the reporting currency is changed the cell expression uses the currency supplied in the context object to calculate the value using ",(0,o.kt)("inlineCode",{parentName:"li"},"ctx.currency"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-BBj",metastring:"showLineNumbers",showLineNumbers:!0},'use ::BBjGridExWidget/BBjGridExWidget.bbj::BBjGridExWidget\nuse ::BBjGridExWidget/GxColumns.bbj::GxColumn\nuse ::BBjGridExWidget/GxExpressions.bbj::GxExpression\nuse com.basiscomponents.db.ResultSet\nuse com.basiscomponents.bc.SqlQueryBC\n\ndeclare auto BBjTopLevelWindow wnd!\ndeclare auto BBjListButton currencies!\n\nwnd! = BBjAPI().openSysGui("X0").addWindow(10,10,900,600,"Client Context Demo")\nwnd!.setCallback(BBjAPI.ON_CLOSE,"byebye")\n\ncurrencies! = wnd!.addListButton(201,5,6,160,250,"")\ncurrencies!.insertItemAt(0,"EUR")\ncurrencies!.insertItemAt(1,"USD")\ncurrencies!.insertItemAt(2,"GBP")\ncurrencies!.selectIndex(0)\ncurrencies!.setCallback(BBjAPI.ON_LIST_SELECT,"update")\n\ngosub main\nprocess_events\n\nmain:\n  declare SqlQueryBC sbc!\n  declare ResultSet rs!\n  declare BBjGridExWidget grid!\n\n  sbc! = new SqlQueryBC(BBjAPI().getJDBCConnection("CDStore"))\n  rs! = sbc!.retrieve("SELECT CDNUMBER , TITLE , COST FROM CDINVENTORY")\n\n  grid! = new BBjGridExWidget(wnd!,100,0,35,900,566)\n  grid!.setData(rs!)\n  \n  defaultCurrency$ = str(currencies!.getItemAt(currencies!.getSelectedIndex()))\n  grid!.getClientContext().addProperty("currency",defaultCurrency$)\n  \n  declare GxColumn costColumn!\n  costColumn! = grid!.getColumn("COST")\n  \n  declare GxExpression exp!\n  exp! = new GxExpression(" x + \' \' + ctx.currency")\n  costColumn!.setValueFormatterExpression(exp!)\nreturn\n\nupdate:\n   currency$ = str(currencies!.getItemAt(currencies!.getSelectedIndex()))\n   grid!.getClientContext().addProperty("currency",currency$)\n   grid!.updateContext()\n   grid!.redrawRows()\nreturn\n\nbyebye:\nbye\n')),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"BBjGridExWidget - Client Context",src:n(7743).Z,width:"900",height:"630"})))}u.isMDXComponent=!0},7743:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/client-context-386c3a08f5102c45a2ec7024ed2d586b.gif"}}]);