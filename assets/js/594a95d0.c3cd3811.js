"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2542],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),d=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=d(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=d(n),m=o,g=p["".concat(s,".").concat(m)]||p[m]||c[m]||i;return n?r.createElement(g,a(a({ref:t},u),{},{components:n})):r.createElement(g,a({ref:t},u))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,a[1]=l;for(var d=2;d<i;d++)a[d]=n[d];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(7294),o=n(6010);const i="tabItem_Ymn6";function a(e){let{children:t,hidden:n,className:a}=e;return r.createElement("div",{role:"tabpanel",className:(0,o.Z)(i,a),hidden:n},t)}},5488:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(7462),o=n(7294),i=n(6010),a=n(2389),l=n(7392),s=n(7094),d=n(2466);const u="tabList__CuJ",c="tabItem_LNqP";function p(e){var t,n;const{lazy:a,block:p,defaultValue:m,values:g,groupId:b,className:f}=e,h=o.Children.map(e.children,(e=>{if((0,o.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),k=null!=g?g:h.map((e=>{let{props:{value:t,label:n,attributes:r}}=e;return{value:t,label:n,attributes:r}})),v=(0,l.l)(k,((e,t)=>e.value===t.value));if(v.length>0)throw new Error('Docusaurus error: Duplicate values "'+v.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.');const w=null===m?m:null!=(t=null!=m?m:null==(n=h.find((e=>e.props.default)))?void 0:n.props.value)?t:h[0].props.value;if(null!==w&&!k.some((e=>e.value===w)))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+w+'" but none of its children has the corresponding value. Available values are: '+k.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");const{tabGroupChoices:y,setTabGroupChoices:B}=(0,s.U)(),[x,S]=(0,o.useState)(w),N=[],{blockElementScrollPositionUntilNextRender:j}=(0,d.o5)();if(null!=b){const e=y[b];null!=e&&e!==x&&k.some((t=>t.value===e))&&S(e)}const E=e=>{const t=e.currentTarget,n=N.indexOf(t),r=k[n].value;r!==x&&(j(t),S(r),null!=b&&B(b,String(r)))},C=e=>{var t;let n=null;switch(e.key){case"ArrowRight":{var r;const t=N.indexOf(e.currentTarget)+1;n=null!=(r=N[t])?r:N[0];break}case"ArrowLeft":{var o;const t=N.indexOf(e.currentTarget)-1;n=null!=(o=N[t])?o:N[N.length-1];break}}null==(t=n)||t.focus()};return o.createElement("div",{className:(0,i.Z)("tabs-container",u)},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":p},f)},k.map((e=>{let{value:t,label:n,attributes:a}=e;return o.createElement("li",(0,r.Z)({role:"tab",tabIndex:x===t?0:-1,"aria-selected":x===t,key:t,ref:e=>N.push(e),onKeyDown:C,onFocus:E,onClick:E},a,{className:(0,i.Z)("tabs__item",c,null==a?void 0:a.className,{"tabs__item--active":x===t})}),null!=n?n:t)}))),a?(0,o.cloneElement)(h.filter((e=>e.props.value===x))[0],{className:"margin-top--md"}):o.createElement("div",{className:"margin-top--md"},h.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==x})))))}function m(e){const t=(0,a.Z)();return o.createElement(p,(0,r.Z)({key:String(t)},e))}},7627:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>m,frontMatter:()=>l,metadata:()=>d,toc:()=>c});var r=n(7462),o=(n(7294),n(3905)),i=n(5488),a=n(5162);const l={sidebar_position:2,title:"Row Sorting"},s=void 0,d={unversionedId:"rows/row-sorting",id:"rows/row-sorting",title:"Row Sorting",description:"This page describes how to get your grid data sorting.",source:"@site/docs/rows/row-sorting.mdx",sourceDirName:"rows",slug:"/rows/row-sorting",permalink:"/BBjGridExWidget/docs/rows/row-sorting",draft:!1,editUrl:"https://github.com/BBj-Plugins/BBjGridExWidget/tree/dev/website/docs/rows/row-sorting.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Row Sorting"},sidebar:"tutorialSidebar",previous:{title:"Row IDs",permalink:"/BBjGridExWidget/docs/rows/rows-id"},next:{title:"Row Spanning",permalink:"/BBjGridExWidget/docs/rows/row-spanning"}},u={},c=[{value:"Enable Sorting",id:"enable-sorting",level:2},{value:"Multi Column Sorting",id:"multi-column-sorting",level:2},{value:"Sorting Animation",id:"sorting-animation",level:2},{value:"Sorting Order",id:"sorting-order",level:2},{value:"Sorting API",id:"sorting-api",level:2},{value:"Accented sort",id:"accented-sort",level:2}],p={toc:c};function m(e){let{components:t,...l}=e;return(0,o.kt)("wrapper",(0,r.Z)({},p,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This page describes how to get your grid data sorting."),(0,o.kt)("h2",{id:"enable-sorting"},"Enable Sorting"),(0,o.kt)("p",null,"Enable sorting for columns by setting the sortable column definition attribute. Then sort a column by clicking on the column header.\nTo enable/disable sorting for all columns, set sorting in the ",(0,o.kt)("a",{parentName:"p",href:"../api/columns-interface#avoid-duplication-of-column-definitions"},"default column definition"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-BBj"},"grid!.getOptions().getDefaultColumnDefinition().setSortable(0)\n")),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"The row sorting is enabled by default on all columns")),(0,o.kt)("h2",{id:"multi-column-sorting"},"Multi Column Sorting"),(0,o.kt)("p",null,"It is possible to sort by multiple columns. The default action for multiple column sorting is for the user to hold down ",(0,o.kt)("kbd",null,"Shift")," while clicking the column header. To change the default action to use the ",(0,o.kt)("kbd",null,"Ctrl")," key (or ",(0,o.kt)("inlineCode",{parentName:"p"},"Command")," key on Apple) set the grid option ",(0,o.kt)("inlineCode",{parentName:"p"},"UseCtrlForMultiSort")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-BBj"},"grid!.getOptions().setUseCtrlForMultiSort(1)\n")),(0,o.kt)("h2",{id:"sorting-animation"},"Sorting Animation"),(0,o.kt)("p",null,"To enable/disable animation of the rows after sorting, set grid option ",(0,o.kt)("inlineCode",{parentName:"p"},"AnimateRows=true"),". By d"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-BBj"},"grid!.getOptions().setAnimateRows(1)\n")),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"The row animation is disabled by default")),(0,o.kt)("h2",{id:"sorting-order"},"Sorting Order"),(0,o.kt)("p",null,"By default, the sorting order is as follows:"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"ascending")," -> ",(0,o.kt)("strong",{parentName:"p"},"descending")," -> ",(0,o.kt)("strong",{parentName:"p"},"none"),"."),(0,o.kt)("p",null,"In other words, when you click a column that is not sorted, it will sort ascending. The next click will make it sort descending. Another click will remove the sort."),(0,o.kt)("h2",{id:"sorting-api"},"Sorting API"),(0,o.kt)("p",null,"Sorting can be controlled via the Sorting API via the following methods:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"BBjGridExWidget.setSortModel(GxClientSortModel model!)"),": set the sorting for one or more columns at once"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"BBjGridExWidget.sortColumn(BBjString column!, BBjString direction!)"),": set the sorting model for one column")),(0,o.kt)("p",null,"The following example apply sorting for the ",(0,o.kt)("inlineCode",{parentName:"p"},"CDNUMBER")," and the ",(0,o.kt)("inlineCode",{parentName:"p"},"TITLE")," at once."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-BBj",metastring:"showLineNumbers",showLineNumbers:!0},'use ::BBjGridExWidget/BBjGridExWidget.bbj::BBjGridExWidget\nuse ::BBjGridExWidget/GxClientModels.bbj::GxClientSortModel\nuse ::BBjGridExWidget/GxColumns.bbj::GxColumn\nuse com.basiscomponents.db.ResultSet\nuse com.basiscomponents.bc.SqlQueryBC\n\ndeclare auto BBjTopLevelWindow wnd!\ndeclare BBjGridExWidget grid!\n\nwnd! = BBjAPI().openSysGui("X0").addWindow(10,10,800,600,"Rows Sorting Demo")\nwnd!.setCallback(BBjAPI.ON_CLOSE,"byebye")\n\ngosub main\nprocess_events\n\nmain:\n  declare SqlQueryBC sbc!\n  declare ResultSet rs!\n\n  sbc! = new SqlQueryBC(BBjAPI().getJDBCConnection("CDStore"))\n  rs! = sbc!.retrieve("SELECT  * FROM CDINVENTORY")\n  \n  grid! = new BBjGridExWidget(wnd!,100,0,0,800,600)\n  grid!.setData(rs!)\n  \n  model! = new GxClientSortModel()\n  model!.add("CDNUMBER", GxColumn.SORT_DESC())\n  model!.add("TITLE", GxColumn.SORT_ASC())\n  \n  grid!.setSortModel(model!)\nreturn\n\nbyebye:\nbye\n')),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"BBjGridExWidget - Sorting API",src:n(9944).Z,width:"802",height:"632"})),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"To Query the sorting state (",(0,o.kt)("a",{parentName:"p",href:"https://bbj-plugins.github.io/BBjGridExWidget/javadoc/BBjGridExWidget/GxState.html"},(0,o.kt)("inlineCode",{parentName:"a"},"::BBjGridExWidget/GxState.bbj::GxState")),") in the grid use the ",(0,o.kt)("inlineCode",{parentName:"p"},"BBjGridExWidget::getState()")," method. The state contains all properties related to the grid state including the sorting model"),(0,o.kt)(i.Z,{mdxType:"Tabs"},(0,o.kt)(a.Z,{value:"grid-state",label:"grid-state.bbj",mdxType:"TabItem"},(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-BBj",metastring:"showLineNumbers",showLineNumbers:!0},"use ::BBjGridExWidget/GxState.bbj::GxState\n\ndeclare GxState state! \nstate! = grid!.getState()\n\nrem returns a parsable JSON string\n? state!.toString()\n"))),(0,o.kt)(a.Z,{value:"grid-state-json",label:"grid-state.json",mdxType:"TabItem"},(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "columns":[\n      {\n         "colId":"CDNUMBER",\n         "width":200,\n         "hide":false,\n         "pinned":null,\n         "sort":"asc",\n         "sortIndex":1,\n         "aggFunc":null,\n         "rowGroup":false,\n         "rowGroupIndex":null,\n         "pivot":false,\n         "pivotIndex":null,\n         "flex":null\n      },\n      {\n         "colId":"ARTIST",\n         "width":200,\n         "hide":false,\n         "pinned":null,\n         "sort":"desc",\n         "sortIndex":0,\n         "aggFunc":null,\n         "rowGroup":false,\n         "rowGroupIndex":null,\n         "pivot":false,\n         "pivotIndex":null,\n         "flex":null\n      },\n      {\n         "colId":"TITLE",\n         "width":200,\n         "hide":false,\n         "pinned":null,\n         "sort":null,\n         "sortIndex":null,\n         "aggFunc":null,\n         "rowGroup":false,\n         "rowGroupIndex":null,\n         "pivot":false,\n         "pivotIndex":null,\n         "flex":null\n      },\n      ... \n   ],\n   "groups":[\n      ...\n    ...\n   ],\n   "filters":{\n      ...\n   }\n}\n'))))),(0,o.kt)("h2",{id:"accented-sort"},"Accented sort"),(0,o.kt)("p",null,"By default sorting doesn't take into consideration locale specific characters, if you need to make your sort locale specific you can configure this by setting the grid option ",(0,o.kt)("inlineCode",{parentName:"p"},"AccentedSort = true")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-BBj"},"grid!.getOptions().setAccentedSort(1)\n")),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Using this feature is more expensive, if you need to sort a very large amount of data, you might find that this causes the sort to be noticeably slower.")))}m.isMDXComponent=!0},9944:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/sorting-api-c655cd80d739d6dc4f7266db7a397cfd.png"}}]);