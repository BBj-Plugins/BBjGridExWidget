"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8005],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>c});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),l=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},m=function(e){var t=l(e.components);return a.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,m=d(e,["components","mdxType","originalType","parentName"]),p=l(n),c=r,g=p["".concat(o,".").concat(c)]||p[c]||u[c]||i;return n?a.createElement(g,s(s({ref:t},m),{},{components:n})):a.createElement(g,s({ref:t},m))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,s=new Array(i);s[0]=p;var d={};for(var o in t)hasOwnProperty.call(t,o)&&(d[o]=t[o]);d.originalType=e,d.mdxType="string"==typeof e?e:r,s[1]=d;for(var l=2;l<i;l++)s[l]=n[l];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},4531:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>d,toc:()=>l});var a=n(7462),r=(n(7294),n(3905));const i={sidebar_position:4,title:"BBj Masks"},s=void 0,d={unversionedId:"rendering/bbj-masks",id:"rendering/bbj-masks",title:"BBj Masks",description:"BBjGridExWidget supports the BBj String, Number and Date Masks. You can set the mask for a given column using the BBjGridExWidget::setColumnMask.",source:"@site/docs/rendering/bbj-masks.md",sourceDirName:"rendering",slug:"/rendering/bbj-masks",permalink:"/BBjGridExWidget/docs/rendering/bbj-masks",draft:!1,editUrl:"https://github.com/BBj-Plugins/BBjGridExWidget/tree/dev/website/docs/rendering/bbj-masks.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,title:"BBj Masks"},sidebar:"tutorialSidebar",previous:{title:"Cell Rendering",permalink:"/BBjGridExWidget/docs/rendering/cell-rendering"},next:{title:"Accessories",permalink:"/BBjGridExWidget/docs/category/accessories"}},o={},l=[{value:"Default Columns Masks",id:"default-columns-masks",level:2},{value:"BBjGridExWidget::setColumnMask",id:"bbjgridexwidgetsetcolumnmask",level:2},{value:"Configure Masks Before <code>setData</code>",id:"configure-masks-before-setdata",level:2},{value:"Update Masks After Rendering",id:"update-masks-after-rendering",level:2}],m={toc:l};function u(e){let{components:t,...i}=e;return(0,r.kt)("wrapper",(0,a.Z)({},m,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"BBjGridExWidget supports the BBj ",(0,r.kt)("a",{parentName:"p",href:"https://documentation.basis.cloud/BASISHelp/WebHelp/commands/str_function.htm"},"String"),", ",(0,r.kt)("a",{parentName:"p",href:"https://documentation.basis.cloud/BASISHelp/WebHelp/usr/Language_Concepts/numeric_output.htm"},"Number")," and ",(0,r.kt)("a",{parentName:"p",href:"https://documentation.basis.cloud/BASISHelp/WebHelp/commands/bbj-commands/date_function_bbj.htm"},"Date")," Masks. You can set the mask for a given column using the ",(0,r.kt)("a",{parentName:"p",href:"https://bbj-plugins.github.io/BBjGridExWidget/javadoc/BBjGridExWidget/BBjGridExWidget.html#setColumnMask"},(0,r.kt)("inlineCode",{parentName:"a"},"BBjGridExWidget::setColumnMask")),"."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The ",(0,r.kt)("strong",{parentName:"p"},"BBjGridExWidget applies masks using Javascript")," with ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/BasisHub/bbj-masks"},(0,r.kt)("inlineCode",{parentName:"a"},"bbj-masks"))," library.")),(0,r.kt)("h2",{id:"default-columns-masks"},"Default Columns Masks"),(0,r.kt)("p",null,"By default , the grid will apply a default bbj mask based on the column type. The following table shows which mask is used based on the column SQL type Type"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Mask")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"SQL Type")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"%Yd-%Mz-%Dz")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"DATE"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"%Hz:%mz:%sz")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"TIME"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"TIME_WITH_TIMEZONE"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"%Yd-%Mz-%Dz %Hz:%mz:%sz")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"TIMESTAMP"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"TIMESTAMP_WITH_TIMEZONE"))))),(0,r.kt)("h2",{id:"bbjgridexwidgetsetcolumnmask"},"BBjGridExWidget::setColumnMask"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://bbj-plugins.github.io/BBjGridExWidget/javadoc/BBjGridExWidget/BBjGridExWidget.html#setColumnMask"},(0,r.kt)("inlineCode",{parentName:"a"},"BBjGridExWidget::setColumnMask"))," will set the mask of a given column in all supported components (filter, cell renderer, cell editor and the value formatter expression)."),(0,r.kt)("p",null,"In case the column has no value formatter expression, then the method will create one based on the column's SQL Type. That's why it is important to call this method after ",(0,r.kt)("a",{parentName:"p",href:"../data/overview#the-bbjgridexwidgetsetdata-method"},(0,r.kt)("inlineCode",{parentName:"a"},"BBjGridExWidget::setData"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-BBj",metastring:"showLineNumbers",showLineNumbers:!0},'use ::BBjGridExWidget/BBjGridExWidget.bbj::BBjGridExWidget\nuse com.basiscomponents.db.ResultSet\nuse com.basiscomponents.bc.SqlQueryBC\n\nwnd! = BBjAPI().openSysGui("X0").addWindow(10, 10, 800, 600, "BBj Masks")\nwnd!.setCallback(BBjAPI.ON_CLOSE,"byebye")\n\ngosub main\nprocess_events\n\nmain:\n  declare SqlQueryBC sbc!\n  declare ResultSet rs!\n  declare BBjGridExWidget grid!\n\n  sbc! = new SqlQueryBC(BBjAPI().getJDBCConnection("ChileCompany"))\n  rs! = sbc!.retrieve("SELECT FIRST_NAME as \'Name\', PHONE as \'Phone\', SALES_YTD as \'Sales\', LAST_PURCH_DATE as \'Purchase Date\' FROM CUSTOMER")\n\n  grid! = new BBjGridExWidget(wnd!, 100, 0, 0, 800, 600)\n  grid!.setData(rs!)\n  grid!.setFitToGrid()\n\n  grid!.setColumnMask("Phone", "+(00) - 000 000 000 00")\n  grid!.setColumnMask("Sales", "$ -#,##0.000")\n  grid!.setColumnMask("Purchase Date", "%Mz/%Dz/%Yl")\nreturn\n\nbyebye:\nbye\n')),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"BBjGridExWidget - BBj Masks",src:n(5430).Z,width:"802",height:"632"})),(0,r.kt)("h2",{id:"configure-masks-before-setdata"},"Configure Masks Before ",(0,r.kt)("inlineCode",{parentName:"h2"},"setData")),(0,r.kt)("p",null,"When constructing the columns before ",(0,r.kt)("a",{parentName:"p",href:"../data/overview#the-bbjgridexwidgetsetdata-method"},(0,r.kt)("inlineCode",{parentName:"a"},"BBjGridExWidget::setData"))," is invoked, you can configure the columns masks using the ",(0,r.kt)("a",{parentName:"p",href:"https://bbj-plugins.github.io/BBjGridExWidget/javadoc/GxColumns/GxDefaultColumnDefinition.html#setMask"},(0,r.kt)("inlineCode",{parentName:"a"},"GxColumn::setMask")),". in this case the ",(0,r.kt)("inlineCode",{parentName:"p"},"setData")," method won't override the default type mask."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-BBj",metastring:"showLineNumbers",showLineNumbers:!0},'use ::BBjGridExWidget/BBjGridExWidget.bbj::BBjGridExWidget\nuse com.basiscomponents.db.ResultSet\nuse com.basiscomponents.bc.SqlQueryBC\nuse java.sql.Types\n\nwnd! = BBjAPI().openSysGui("X0").addWindow(10, 10, 800, 600, "BBj Masks")\nwnd!.setCallback(BBjAPI.ON_CLOSE,"byebye")\n\ngosub main\nprocess_events\n\nmain:\n  declare SqlQueryBC sbc!\n  declare ResultSet rs!\n  declare BBjGridExWidget grid!\n\n  sbc! = new SqlQueryBC(BBjAPI().getJDBCConnection("ChileCompany"))\n  rs! = sbc!.retrieve("SELECT FIRST_NAME, PHONE, SALES_YTD, LAST_PURCH_DATE FROM CUSTOMER")\n\n  grid! = new BBjGridExWidget(wnd!, 100, 0, 0, 800, 600)\n\n  name!  = grid!.addColumn("FIRST_NAME", "Name", Types.VARCHAR)\n\n  phone! = grid!.addColumn("PHONE", "Phone", Types.VARCHAR)\n  phone!.setMask("+(00) - 000 000 000 00")\n\n  sales! = grid!.addColumn("SALES_YTD", "Sales", Types.NUMERIC)\n  sales!.setMask("$ -#,##0.000")\n\n  date!  = grid!.addColumn("LAST_PURCH_DATE", "Purchase Date", Types.DATE)\n  date!.setMask("%Mz/%Dz/%Yl")\n\n  grid!.setData(rs!)\n  grid!.setFitToGrid()\nreturn\n\nbyebye:\nbye\n')),(0,r.kt)("h2",{id:"update-masks-after-rendering"},"Update Masks After Rendering"),(0,r.kt)("p",null,"You can update any column mask after rendering by setting the mask property on the column or by calling the ",(0,r.kt)("inlineCode",{parentName:"p"},"setColumnMask")," method.\nTo reflect the changes in the grid, you should invoke the method ",(0,r.kt)("a",{parentName:"p",href:"https://bbj-plugins.github.io/BBjGridExWidget/javadoc/BBjGridExWidget/BBjGridExWidget.html#updateColumns"},(0,r.kt)("inlineCode",{parentName:"a"},"BBjGridExWidget.updateColumns()"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-BBj"},'date!  = grid!.getColumn("LAST_PURCH_DATE")\ndate!.setMask("%Mz-%Dz-%Yl")\ngrid!.updateColumns()\n')))}u.isMDXComponent=!0},5430:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/masks-873579f9dfa084cca3b3e2f60a152ad5.png"}}]);