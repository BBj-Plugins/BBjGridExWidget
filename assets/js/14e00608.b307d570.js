"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9809],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),d=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=d(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=d(n),m=a,g=c["".concat(s,".").concat(m)]||c[m]||p[m]||i;return n?r.createElement(g,l(l({ref:t},u),{},{components:n})):r.createElement(g,l({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var d=2;d<i;d++)l[d]=n[d];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},1662:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var r=n(7462),a=(n(7294),n(3905));const i={sidebar_position:1,title:"Value Getters"},l=void 0,o={unversionedId:"rendering/value-getters",id:"rendering/value-getters",title:"Value Getters",description:"Normally columns are configured from the ResultSet, so the column knows what field to take values from in the data. Instead of providing field it is possible to provide value getter expression instead.",source:"@site/docs/rendering/value-getters.md",sourceDirName:"rendering",slug:"/rendering/value-getters",permalink:"/BBjGridExWidget/docs/rendering/value-getters",draft:!1,editUrl:"https://github.com/BBj-Plugins/BBjGridExWidget/tree/dev/website/docs/rendering/value-getters.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Value Getters"},sidebar:"tutorialSidebar",previous:{title:"Rendering",permalink:"/BBjGridExWidget/docs/category/rendering"},next:{title:"Value Formatters",permalink:"/BBjGridExWidget/docs/rendering/value-formatter"}},s={},d=[{value:"Configuring Value Getters",id:"configuring-value-getters",level:2},{value:"Example Value Getters",id:"example-value-getters",level:2}],u={toc:d};function p(e){let{components:t,...i}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Normally columns are configured from the ResultSet, so the column knows what field to take values from in the data. Instead of providing field it is possible to provide value getter expression instead."),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"Use value getters when retrieving the data requires more logic, including executing your own expressions (similar to what a spreadsheet would do).")),(0,a.kt)("h2",{id:"configuring-value-getters"},"Configuring Value Getters"),(0,a.kt)("p",null,"An ",(0,a.kt)("inlineCode",{parentName:"p"},"ValueGetterExpression")," is arbitrary ",(0,a.kt)("strong",{parentName:"p"},"JavaScript")," code/expression that gets called allowing values to be pulled from somewhere else."),(0,a.kt)("p",null,"When working with expressions keep the following points in mind:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If the expression has the word ",(0,a.kt)("inlineCode",{parentName:"li"},"return")," in it, then we will assume it is a multi-line expression and will not wrap it."),(0,a.kt)("li",{parentName:"ul"},"If the expression does not have the word ",(0,a.kt)("inlineCode",{parentName:"li"},"return")," in it, then we will insert the ",(0,a.kt)("inlineCode",{parentName:"li"},"return")," statement and the ",(0,a.kt)("inlineCode",{parentName:"li"},";")," for you."),(0,a.kt)("li",{parentName:"ul"},"If the expression has many lines, then you will need to provide the ",(0,a.kt)("inlineCode",{parentName:"li"},";")," at the end of each line and also provide the ",(0,a.kt)("inlineCode",{parentName:"li"},"return")," statement.")),(0,a.kt)("p",null,"Expressions have access to several predefined variables:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"center"},(0,a.kt)("strong",{parentName:"th"},"Variable")),(0,a.kt)("th",{parentName:"tr",align:"left"},(0,a.kt)("strong",{parentName:"th"},"Description")))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"data"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Mapped from the ",(0,a.kt)("inlineCode",{parentName:"td"},"DataRow"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"ctx"),(0,a.kt)("td",{parentName:"tr",align:"left"},"The grid client context")))),(0,a.kt)("p",null,"For instance "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-BBj"},"column!.setValueGetterExpression(\"data.FIRST_NAME + ' ' + data.LAST_NAME\")\n")),(0,a.kt)("h2",{id:"example-value-getters"},"Example Value Getters"),(0,a.kt)("p",null,"The following example uses the value getter expression to compute the value of the ",(0,a.kt)("inlineCode",{parentName:"p"},"FULL_NAME")," column\nfrom ",(0,a.kt)("inlineCode",{parentName:"p"},"FIRST_NAME")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"LAST_NAME")," column"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-BBj",metastring:"showLineNumbers",showLineNumbers:!0},'use ::BBjGridExWidget/BBjGridExWidget.bbj::BBjGridExWidget\nuse ::BBjGridExWidget/GxColumns.bbj::GxColumn\nuse com.basiscomponents.db.ResultSet\nuse com.basiscomponents.bc.SqlQueryBC\n\ndeclare auto BBjTopLevelWindow wnd!\nwnd! = BBjAPI().openSysGui("X0").addWindow(10,10,800,600,"Value Getter", $00090002$)\nwnd!.setCallback(BBjAPI.ON_CLOSE,"byebye")\n\ngosub main\nprocess_events\n\nmain:\n  declare SqlQueryBC sbc!\n  declare ResultSet rs!\n  declare BBjGridExWidget grid!\n  declare GxColumn fullNameColumn!\n\n  sbc! = new SqlQueryBC(BBjAPI().getJDBCConnection("ChileCompany"))\n  rs! = sbc!.retrieve("SELECT FIRST_NAME, LAST_NAME FROM CUSTOMER")\n  \n  grid! = new BBjGridExWidget(wnd!,100,0,0,800,600)\n  grid!.setData(rs!)\n  \n  fullNameColumn! = grid!.addColumn("FULL_NAME")\n  fullNameColumn!.setValueGetterExpression("data.FIRST_NAME + \' \' + data.LAST_NAME")\nreturn\n\nbyebye:\nbye\n')),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"BBjGridExWidget - Value Getters",src:n(6620).Z,width:"802",height:"632"})))}p.isMDXComponent=!0},6620:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/value-getter-ecce74f9fd807e947b922806b0a5e8cb.png"}}]);